<Window
    x:Class="PolicyPlus.WinUI3.Windows.QuickEditWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:win="using:PolicyPlus.WinUI3.Windows"
    Title="Quick Edit">
    <Grid x:Name="_root" Padding="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Orientation="Horizontal" Spacing="16">
            <TextBlock Text="Quick Edit" FontSize="20" FontWeight="SemiBold" />
            <TextBlock x:Name="_headerCount" Opacity="0.7" VerticalAlignment="Center" />
            <TextBlock x:Name="_unsavedText" Opacity="0.8" VerticalAlignment="Center" Margin="12,0,0,0" />
        </StackPanel>

        <!-- Grid -->
        <win:QuickEditGridControl x:Name="_grid" Grid.Row="1" />

        <!-- Buttons / status -->
        <Grid Grid.Row="2" Margin="0,8,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <TextBlock x:Name="_statusText" VerticalAlignment="Center" Opacity="0.75" />
            <Button x:Name="_saveButton" Grid.Column="1" Content="Save" Margin="0,0,8,0" IsEnabled="False" />
            <Button x:Name="_closeButton" Grid.Column="2" Content="Close" />
        </Grid>

        <!-- Saving overlay -->
        <Grid x:Name="_savingOverlay" Background="#80000000" Visibility="Collapsed" Grid.RowSpan="3">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="8">
                <ProgressRing IsActive="True" Width="48" Height="48" />
                <TextBlock Text="Saving..." Foreground="White" HorizontalAlignment="Center" />
            </StackPanel>
        </Grid>
    </Grid>
</Window>